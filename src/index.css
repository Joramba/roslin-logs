@import "tailwindcss";

/* Tell Tailwind v4 to use a `.dark` class instead of media query */
@custom-variant dark (&:where(.dark, .dark *));

/* Optional: keep native controls in the right scheme */
:root {
  color-scheme: light;
}
.dark {
  color-scheme: dark;
}

/* ---------- Base (фон и текст для темы) ---------- */
@layer base {
  html,
  body,
  #root {
    height: 100%;
  }
  body {
    @apply bg-white text-zinc-900
           dark:bg-zinc-900 dark:text-zinc-100;
  }
}

/* ---------- Components (inputs, buttons, cards, badges, table) ---------- */
@layer components {
  .input {
    @apply w-full px-3 py-2 rounded-xl border outline-none shadow-sm
           bg-white text-zinc-900 placeholder-zinc-400 border-zinc-300
           focus:ring-2 focus:ring-black/10
           dark:bg-zinc-800 dark:text-zinc-100 dark:placeholder-zinc-400 dark:border-zinc-700;
  }

  /* Primary / neutral */
  .btn {
    @apply inline-flex items-center justify-center rounded-xl px-3 py-2 border
           bg-white text-zinc-900 border-zinc-300 shadow-sm cursor-pointer
           transition duration-150
           hover:bg-zinc-50 hover:border-zinc-400 hover:shadow-md hover:-translate-y-[1px]
           active:translate-y-0
           focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-black/10
           disabled:opacity-50 disabled:cursor-not-allowed
           dark:bg-zinc-800 dark:text-zinc-100 dark:border-zinc-700
           dark:hover:bg-zinc-700 dark:hover:border-zinc-600;
  }

  /* Outline */
  .btn-outline {
    @apply inline-flex items-center justify-center rounded-xl px-3 py-2 border
           bg-white text-zinc-900 border-zinc-300 cursor-pointer
           transition duration-150
           hover:bg-zinc-50 hover:border-zinc-400 hover:shadow-md hover:-translate-y-[1px]
           active:translate-y-0
           focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-black/10
           disabled:opacity-50 disabled:cursor-not-allowed
           dark:bg-zinc-800 dark:text-zinc-100 dark:border-zinc-700
           dark:hover:bg-zinc-700 dark:hover:border-zinc-600;
  }

  /* Destructive */
  .btn-danger {
    @apply inline-flex items-center justify-center rounded-xl px-3 py-2 border
           bg-rose-600 text-white cursor-pointer transition duration-150
           hover:bg-rose-700 hover:-translate-y-[1px]
           active:translate-y-0
           focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-300
           disabled:opacity-50 disabled:cursor-not-allowed
           dark:bg-rose-600 dark:hover:bg-rose-700;
  }

  .btn-xs {
    @apply inline-flex items-center justify-center rounded-lg px-2 py-1 border text-xs
           bg-white text-zinc-900 border-zinc-300 cursor-pointer transition duration-150
           hover:bg-zinc-50 hover:border-zinc-400 hover:shadow-sm hover:-translate-y-[0.5px]
           active:translate-y-0
           dark:bg-zinc-800 dark:text-zinc-100 dark:border-zinc-700
           dark:hover:bg-zinc-700 dark:hover:border-zinc-600;
  }

  .btn-xs-danger {
    @apply inline-flex items-center justify-center rounded-lg px-2 py-1 border text-xs
           bg-rose-600 text-white cursor-pointer transition duration-150
           hover:bg-rose-700 hover:-translate-y-[0.5px]
           active:translate-y-0
           dark:bg-rose-600 dark:hover:bg-rose-700;
  }

  .card {
    @apply rounded-2xl border bg-white shadow-sm
           dark:bg-gray-900 dark:border-gray-700;
  }

  /* Badges */
  .badge {
    @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium border;
  }

  .badge-planned {
    @apply border-emerald-300 text-emerald-700 bg-emerald-50
           dark:border-emerald-700 dark:text-emerald-300 dark:bg-emerald-900/40;
  }
  .badge-unplanned {
    @apply border-amber-300 text-amber-700 bg-amber-50
           dark:border-amber-700 dark:text-amber-300 dark:bg-amber-900/40;
  }
  .badge-emergency {
    @apply border-rose-300 text-rose-700 bg-rose-50
           dark:border-rose-700 dark:text-rose-300 dark:bg-rose-900/40;
  }
  .badge-active {
    @apply border-blue-300 text-blue-700 bg-blue-50
           dark:border-blue-700 dark:text-blue-300 dark:bg-blue-900/40;
  }
}

/* ---------- Utilities (container / table / rows) ---------- */
@layer utilities {
  .container {
    @apply mx-auto;
    max-width: min(96vw, 1440px);
  }
  .table {
    @apply min-w-full table-auto;
  }
  .th {
    @apply text-left text-xs font-semibold uppercase tracking-wide
           text-gray-600 px-4 py-3
           dark:text-gray-300;
  }
  .tr {
    @apply border-t hover:bg-gray-50/70
        
    dark:border-gray-700 dark:hover:bg-white/5;
  }
  .td {
    @apply px-4 py-3 align-top;
  }
}

/* ---------- Ellipsis helpers ---------- */
.ellipsis-1 {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.ellipsis-2,
.ellipsis-3 {
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
.ellipsis-2 {
  -webkit-line-clamp: 2;
}
.ellipsis-3 {
  -webkit-line-clamp: 3;
}
